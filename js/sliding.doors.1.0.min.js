jQuery.fn.slidingDoors=function(a){function k(a){$(" .active",e).removeClass("active");a.addClass("active");d=0;f.each(function(){if($(this).hasClass("active")){$(this).stop().animate({left:d,width:b.widthOpen},b.easingLength,b.easingMethod);if(b.perIterationActive){b.perIterationActive.call($(this))}g=b.widthOpen+parseInt($(this).css("border-left-width"),10)+parseInt($(this).css("border-right-width"),10)}else{$(this).stop().animate({left:d,width:b.widthClosed},b.easingLength,b.easingMethod,function(){$(" .first",e).removeClass("first")});if(b.perIterationInactive){b.perIterationInactive.call($(this))}g=b.widthClosed+parseInt($(this).css("border-left-width"),10)+parseInt($(this).css("border-right-width"),10)}d=d+g})}"use strict";var b=$.extend({activationMethod:"hover",easingLength:300,easingMethod:"linear",firstPanel:0,fitToWidth:0,height:0,panelBlur:function(){},panelFocus:function(){},onLoaded:function(){},perIterationActive:function(){},perIterationInactive:function(){},widthClosed:0,widthOpen:0},a),c=0,d=0,e=this,f=$("> *",e),g=0,h=f.length,i=false,j={};e.css({overflow:"hidden",position:"relative",margin:0,padding:0,listStyle:"none",height:b.height});f.css({overflow:"hidden",position:"absolute",margin:0,padding:0,top:0,left:0,height:b.height});if(b.firstPanel>=f.length||b.firstPanel<0){b.firstPanel=0}if(b.fitToWidth>0){b.widthClosed=Math.floor(b.fitToWidth*(1-b.widthOpen/b.fitToWidth)/(h-1))}f.each(function(a){if(b.firstPanel==a){$(this).addClass("first");$(this).width(b.widthOpen)}else{$(this).width(b.widthClosed)}$(this).css("left",c);$(" img",$(this)).width(b.widthOpen);c=c+$(this).outerWidth()});if(b.fitToWidth!=0){c=b.fitToWidth}e.width(c);if(b.activationMethod==="hover"){f.hover(function(){if(b.panelFocus){b.panelFocus.call($(this))}k($(this))},function(){if(b.panelBlur){b.panelBlur.call($(this))}})}else{f.click(function(){if(b.panelFocus){b.panelFocus.call($(this))}k($(this))})}j.doorsWidth=c;j.numOfPanels=h;j.container=e;j.doors=f;j.closedWidth=b.widthClosed;j.intialSlideIndex=b.firstPanel;j.openWidth=b.widthOpen;if(b.onLoaded&&i==false){i=true;b.onLoaded(j)}}